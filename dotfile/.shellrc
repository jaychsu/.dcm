if [[ $OSTYPE == darwin* ]]; then
    alias ls='ls -GFh'
    alias o='open'
else
    alias ls='ls --color -hF --show-control-chars'
    alias o='gnome-open'
    alias open='gnome-open'
fi

# Shell
alias grep='grep --color'
alias la='ls -a'
alias ll='ls -l'
alias rm='rm -v'
alias sudo='sudo -E'
alias vi='vim --noplugin'
alias less='less -r'

# Navigation
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias .....='cd ../../../..'
alias ~='cd ~ && cd'

# Application installed by HomeBrew
alias g='git'
alias gb='gitbook'
alias st='stree'
alias stpg='postgres -D /usr/local/var/postgres'
alias qtpg='launchctl unload ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist'

# Application installed by Node
alias nd='node'
alias n='npm'
alias nr='npm run'
alias gp='gulp'
alias wp='webpack'
alias wps='webpack-dev-server'
alias sscli='http_proxy on && DEBUG=proxy kneesocks 10001 1080'
alias cscli='http_proxy off'

# Application installed by Ruby
alias be='bundle exec'
alias r='rails'
alias rgc='rvm gemset create'
alias rgl='rvm gemset list'
alias rgu='rvm gemset use'

# Application installed by Python
alias stsvr='python -m SimpleHTTPServer'

# Global Variables
export PATH="$HOME/bin:/usr/local/bin:$PATH:$HOME/.rvm/bin"
export EDITOR='vim'

# Custom Command
http_proxy() {
    if [[ $1 == on ]] then
        echo http_proxy turned on
        export http_proxy=http://127.0.0.1:10001
        export https_proxy=http://127.0.0.1:10001
    elif [[ $1 == off ]] then
        echo http_proxy turned off
        unset http_proxy
        unset https_proxy
    else
        echo 'Usage: http_proxy [on|off]'
    fi
}

ce() {
    if [[ $# == 1 ]] then
        mkdir $1 && cd $1
    else
        echo 'Warn: Only receive one parameter!'
    fi
}

sl() {
    SUBLIME='/Applications/Sublime\ Text.app/Contents/SharedSupport/bin/subl'

    if [[ $# == 1 ]] then
        SUBLPROJ_DEFAULT_NAME="${1}/_index.sublime-project"
        if [[ -e $SUBLPROJ_DEFAULT_NAME ]] then
                eval $SUBLIME $SUBLPROJ_DEFAULT_NAME
        else
                eval $SUBLIME $1
                echo 'Info: Current dev folder has NOT sublime project, you need to create one.'
        fi
    elif [[ $# == 0 ]] then
        eval $SUBLIME .
    else
        echo 'Warn: Only receive one parameter!'
    fi
}

stdev() {
    DEV_IDE='sl'
    GIT_GUI='stree'
    ACTION="open . && ${DEV_IDE} . && ${GIT_GUI} ."

    # `builtin` is required, since `cd` is not a program
    if [[ $# == 1 ]] then
        builtin cd $1 && eval $ACTION
    elif [[ $# == 0 ]] then
        eval $ACTION
    else
        echo 'Warn: Only receive one parameter!'
    fi
}
